(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{22:function(e,t,c){e.exports={container:"PrDetals_container__2NHv8",img:"PrDetals_img__2r87A",detals:"PrDetals_detals__2oZyT",description:"PrDetals_description__2HzAo"}},49:function(e,t,c){},50:function(e,t,c){},53:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(23),s=c.n(i),r=(c(49),c(19)),o=c(7),l=(c(50),c(30));c(60),c(52);l.a.initializeApp({apiKey:"AIzaSyAGtyPm7E06MD3P_IxKujjMG_6P0o8DkAw",authDomain:"shop-65fd6.firebaseapp.com",databaseURL:"https://shop-65fd6-default-rtdb.firebaseio.com",projectId:"shop-65fd6",storageBucket:"shop-65fd6.appspot.com",messagingSenderId:"508991104384",appId:"1:508991104384:web:df2d9e0332ab0932ab0d65"}),l.a.firestore();var j=l.a,d=(c(39),c(65)),u=c(62),b=c(66),h=c(64),O=c(44),x=c(63),p=(c(53),c(2)),g=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(0),l=Object(o.a)(s,2),u=l[0],b=l[1],h=Object(n.useState)(""),O=Object(o.a)(h,2),g=O[0],f=O[1],m=Object(n.useState)(),v=Object(o.a)(m,2),y=v[0],S=v[1],C=Object(n.useState)(),w=Object(o.a)(C,2),D=w[0],k=w[1],N=Object(n.useState)(),I=Object(o.a)(N,2),E=I[0],_=I[1],U=Object(n.useState)(""),B=Object(o.a)(U,2),z=B[0],P=B[1],F=Object(n.useState)(""),A=Object(o.a)(F,2),H=A[0],T=A[1];return Object(p.jsxs)(x.a,Object(r.a)(Object(r.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(x.a.Header,{closeButton:!0,children:Object(p.jsx)(x.a.Title,{id:"contained-modal-title-vcenter",children:"Add products"})}),Object(p.jsxs)(x.a.Body,{children:[Object(p.jsxs)("div",{className:"form-group",children:[a?null:Object(p.jsx)("div",{children:"File not uploaded"}),Object(p.jsx)("img",{src:a||null,style:{width:"100%"}}),Object(p.jsx)("br",{}),Object(p.jsx)("progress",{value:u,max:"100",style:{width:"100%"}}),Object(p.jsx)("input",{type:"file",accept:".png,.jpg",onChange:function(e){var t=e.target.files[0];console.log("Upload works ");var c="".concat(function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var c=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?c:3&c|8).toString(16)}))}(),".").concat(t.type.split("/")[1]),n=j.storage().ref().child("productImage/"+c).put(t);n.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;b(t)}),(function(e){console.log("Upload error ",e)}),(function(){n.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),i(e)}))}))},className:"btn btn-dark btn-lg btn-block"})]}),Object(p.jsx)("span",{children:"\u043d\u0430\u0437\u0432\u0430 :"}),Object(p.jsx)("input",{type:"text",onChange:function(e){f(e.target.value)},value:g,placeholder:"setProductName"}),Object(p.jsx)("span",{children:"\u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c :"}),Object(p.jsx)("input",{type:"number",onChange:function(e){S(e.target.value)},value:y,placeholder:"setProductCount"}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:"width: "}),Object(p.jsx)("input",{type:"number",onChange:function(e){k(e.target.value)},value:D,placeholder:"setWidth"}),Object(p.jsx)("span",{children:"height: "}),Object(p.jsx)("input",{type:"number",onChange:function(e){_(e.target.value)},value:E,placeholder:"setHeight"}),Object(p.jsx)("span",{children:"\u0432\u0430\u0433\u0430 :"}),Object(p.jsx)("input",{type:"number",onChange:function(e){P(e.target.value)},value:z,placeholder:"setProductWeight"}),Object(p.jsx)("p",{children:"description :"}),Object(p.jsx)("textarea",{onChange:function(e){T(e.target.value)},value:H,placeholder:"\u043e\u043f\u0438\u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443",style:{width:"100%",margin:".5px"}})]}),Object(p.jsxs)(x.a.Footer,{children:[Object(p.jsx)(d.a,{onClick:function(t){t.preventDefault(),j.firestore().collection("pr").add({count:+y,imageUrl:a,name:g,size:{height:E,width:D},weight:z,description:H,comments:[]}).then((function(t){i(""),f(""),S(""),k(""),_(""),P(""),T(""),console.log("Document written with ID: ",t.id),e.onHide()})).catch((function(e){console.error("Error adding document: ",e)}))},children:"Save"}),Object(p.jsx)(d.a,{onClick:e.onHide,children:"Cancel"})]})]}))},f=c(26),m=c(22),v=c.n(m),y=function(e){var t=Object(n.useState)(!0),c=Object(o.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(),r=Object(o.a)(s,2),l=r[0],u=r[1],b=Object(n.useState)(),h=Object(o.a)(b,2),O=h[0],x=h[1],g=Object(n.useState)(!0),m=Object(o.a)(g,2),y=m[0],S=m[1],C=Object(n.useState)(""),w=Object(o.a)(C,2),D=w[0],k=w[1];Object(n.useEffect)((function(){x(localStorage.getItem("detalsId"))})),Object(n.useEffect)((function(){j.firestore().collection("pr").doc(O).get().then((function(e){e.exists?(console.log("Document data:",e.data()),u(e.data()),i(!1)):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[O]);var N=Object(n.useState)(""),I=Object(o.a)(N,2),E=I[0],_=I[1],U=Object(n.useState)(""),B=Object(o.a)(U,2),z=B[0],P=B[1],F=Object(n.useState)(""),A=Object(o.a)(F,2),H=A[0],T=A[1],L=Object(n.useState)(""),M=Object(o.a)(L,2),G=M[0],J=M[1],K=Object(n.useState)(""),R=Object(o.a)(K,2),W=R[0],V=R[1],Z=Object(n.useState)(""),q=Object(o.a)(Z,2),Q=q[0],X=q[1];return Object(p.jsxs)("div",{children:[a?Object(p.jsx)("div",{children:"Loading ..."}):y?Object(p.jsxs)("div",{className:v.a.container,children:[Object(p.jsx)("img",{className:v.a.img,src:l.imageUrl?l.imageUrl:null}),Object(p.jsxs)("div",{className:v.a.detals,children:[Object(p.jsx)("h5",{children:" \u0412\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456: "}),Object(p.jsxs)("p",{children:["name: ",l.name]}),Object(p.jsxs)("p",{children:["\u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432: ",l.count]}),Object(p.jsxs)("p",{children:["height: ",l.size.height]}),Object(p.jsxs)("p",{children:["width: ",l.size.width]}),Object(p.jsxs)("p",{children:["\u0432\u0430\u0433\u0430: ",l.weight," g"]})]}),Object(p.jsxs)("div",{className:v.a.description,children:[Object(p.jsx)("h5",{children:"Description:"}),Object(p.jsx)("p",{children:l.description?l.description:Object(p.jsx)("p",{children:" \u043e\u043f\u0438\u0441\u0443 \u043d\u0435\u043c\u0430\u0454"})})]})]}):Object(p.jsxs)("div",{className:v.a.container,children:[Object(p.jsx)("img",{className:v.a.img,src:l.imageUrl?l.imageUrl:null}),Object(p.jsxs)("div",{className:v.a.detals,children:[Object(p.jsx)("h5",{children:" \u0412\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456: "}),Object(p.jsx)("span",{children:"name: "}),Object(p.jsx)("input",{type:"text",value:E,onChange:function(e){_(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:"\u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432: "}),Object(p.jsx)("input",{type:"number",value:z,onChange:function(e){P(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:"height: "}),Object(p.jsx)("input",{type:"text",value:H,onChange:function(e){T(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:"width: "}),Object(p.jsx)("input",{type:"text",value:G,onChange:function(e){J(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:"\u0432\u0430\u0433\u0430: "}),Object(p.jsx)("input",{type:"text",value:W,onChange:function(e){V(e.target.value)}})]}),Object(p.jsxs)("div",{className:v.a.description,children:[Object(p.jsx)("h5",{children:"Description:"}),Object(p.jsx)("textarea",{value:Q,onChange:function(e){X(e.target.value)},children:" "})]})]}),y?Object(p.jsx)(d.a,{variant:"warning",onClick:function(){_(l.name),P(l.count),T(l.size.height),J(l.size.width),V(l.weight),X(l.description),S(!1)},children:"Edit"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{variant:"warning",onClick:function(){var e=j.firestore().collection("pr").doc(O);e.update({name:E,count:z,size:{height:H,width:G},weight:W,description:Q}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)})),e.get().then((function(e){e.exists?(console.log("Document data:",e.data()),u(e.data()),i(!1)):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)})),S(!0)},children:"Save edit"}),Object(p.jsx)(d.a,{variant:"secondary",onClick:function(){S(!0)},children:"Cancel"})]}),Object(p.jsx)("br",{}),Object(p.jsx)(f.b,{className:"ml-2",to:"/",onClick:function(){return localStorage.removeItem("detalsId")},children:"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443"}),Object(p.jsx)("h5",{children:"Coments:"}),Object(p.jsx)("p",{children:l?Object(p.jsx)("div",{children:l.comments.map((function(e){return console.log(e),Object(p.jsx)("p",{children:e.description})}))}):Object(p.jsx)("div",{children:"loading..."})}),Object(p.jsx)("h5",{children:"Add coments:"}),Object(p.jsx)("textarea",{onChange:function(e){k(e.target.value)},value:D}),Object(p.jsx)("br",{}),Object(p.jsx)(d.a,{variant:"primary",onClick:function(){console.log(D),j.firestore().collection("pr").doc(O).update({comments:j.firestore.FieldValue.arrayUnion({date:new Date,description:D})}),k(""),j.firestore().collection("pr").doc(O).get().then((function(e){e.exists?(console.log("Document data:",e.data()),u(e.data()),i(!1)):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},children:"Add coment"})]})},S=c(8);var C=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(o.a)(s,2),m=l[0],v=l[1],y=function(){i(""),v(!1)},S=function(e){i(e.target.name),v(!0)},C=Object(n.useState)(!1),w=Object(o.a)(C,2),D=w[0],k=w[1],N=Object(n.useState)(!0),I=Object(o.a)(N,2),E=I[0],_=I[1],U=Object(n.useState)([]),B=Object(o.a)(U,2),z=B[0],P=B[1],F=Object(n.useState)(null),A=Object(o.a)(F,2),H=A[0],T=A[1],L=Object(n.useState)("\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430..."),M=Object(o.a)(L,2),G=M[0],J=M[1],K=function(e){J(e.target.textContent),"countUp"===e.target.id&&T("asc"),"countDn"===e.target.id&&T("desc")};Object(n.useEffect)((function(){return _(!0),"asc"===H||"desc"===H?j.firestore().collection("pr").orderBy("count",H).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id}))})),P(t),_(!1)})):"name"===H?j.firestore().collection("pr").orderBy("name","asc").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id}))})),P(t),_(!1)})):void j.firestore().collection("pr").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id}))})),P(t),_(!1)}))}),[H]);var R=function(e){j.firestore().collection("pr").doc("".concat(a)).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)})),y()};return Object(p.jsxs)("div",{children:[Object(p.jsx)(d.a,{variant:"primary",onClick:function(){return k(!0)},children:"New protuct"}),Object(p.jsx)(g,{show:D,onHide:function(){return k(!1)}}),Object(p.jsxs)("h5",{children:["Sort by : ",G]}),Object(p.jsxs)(u.a,{"aria-label":"Basic example",children:[Object(p.jsx)(d.a,{variant:"secondary",onClick:K,id:"countUp",children:"\u0412\u0456\u0434 \u0442\u0438\u0445 \u044f\u043a\u0438\u0445 \u043c\u0435\u043d\u0448\u0435"}),Object(p.jsx)(d.a,{variant:"secondary",onClick:K,id:"countDn",children:"\u0412\u0456\u0434 \u0442\u0438\u0445 \u044f\u043a\u0438\u0445 \u0431\u0456\u043b\u044c\u0448\u0435"}),Object(p.jsx)(d.a,{variant:"secondary",onClick:function(e){J(e.target.textContent),"name"===e.target.id&&T("name")},id:"name",children:"Sort by name"})]}),Object(p.jsx)("div",{className:"bodyItems",children:E?Object(p.jsx)("div",{children:"loading"}):z.map((function(t){return Object(p.jsxs)(b.a,{style:{width:"33%",margin:".5px"},children:[Object(p.jsx)(b.a.Img,{variant:"top",src:t.imageUrl?t.imageUrl:null}),Object(p.jsxs)(h.a,{className:"list-group-flush",children:[Object(p.jsxs)(O.a,{children:["name: ",t.name]}),Object(p.jsxs)(O.a,{children:["\u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432: ",t.count]}),Object(p.jsxs)(O.a,{children:["height: ",t.size.height]}),Object(p.jsxs)(O.a,{children:["width: ",t.size.width]}),Object(p.jsxs)(O.a,{children:["\u0432\u0430\u0433\u0430: ",t.weight," g"]})]}),Object(p.jsxs)(b.a.Body,{children:[Object(p.jsx)(b.a.Title,{children:"Description:"}),Object(p.jsx)(b.a.Text,{children:t.description?t.description:Object(p.jsx)("p",{children:" \u043e\u043f\u0438\u0441\u0443 \u043d\u0435\u043c\u0430\u0454"})})]}),Object(p.jsxs)(b.a.Body,{children:[Object(p.jsx)(f.b,{className:"ml-2",to:"/prDetals",onClick:function(){e.setDetalsId(t.id),localStorage.setItem("detalsId",t.id)},children:"\u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435 \u043f\u0440\u043e \u0442\u043e\u0432\u0430\u0440"}),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{variant:"primary",name:t.id,onClick:S,className:"float-right btn btn-danger mt-1",children:"Delete"}),Object(p.jsxs)(x.a,{show:m,onHide:y,backdrop:"static",keyboard:!1,children:[Object(p.jsx)(x.a.Header,{closeButton:!0,children:Object(p.jsx)(x.a.Title,{children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f "})}),Object(p.jsx)(x.a.Body,{children:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043e\u0432\u0430\u0440?"}),Object(p.jsxs)(x.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"secondary",onClick:y,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"}),Object(p.jsx)(d.a,{variant:"danger",onClick:R,name:t.id,children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})]})]})]})}))})]})},w=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(p.jsx)("div",{children:Object(p.jsxs)(S.c,{children:[Object(p.jsx)(S.a,{exact:!0,path:"/",render:function(){return Object(p.jsx)(C,{setDetalsId:a})}}),Object(p.jsx)(S.a,{path:"/prDetals",render:function(){return Object(p.jsx)(y,{detalsId:c})}})]})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,67)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(f.a,{children:Object(p.jsx)(w,{})})}),document.getElementById("root")),D()}},[[59,1,2]]]);
//# sourceMappingURL=main.e611a33e.chunk.js.map